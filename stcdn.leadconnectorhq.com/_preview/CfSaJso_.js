const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NavMenuSearchbar.D3YR_N5G.css","./StoreNavCartElement.Br1dtVUV.css"])))=>i.map(i=>d[i]);
import{d as Y,y as j,c as d,a as o,b as l,u as n,p as _,n as v,h as c,e as h,F as b,g as M,m as U,s as D,v as R}from"./BJulYKC0.js";import{w as q}from"./CYRfsorP.js";import{u as X,ao as f,n as J}from"./CFkpPN2T.js";import{E as g,b as K,c as Q,d as $,S as W}from"./HTGX6kZW.js";import{g as Z}from"./BPjLdeeS.js";import{u as ee}from"./BlkUynWJ.js";import{u as te}from"./DQsHS9en.js";import"./LMdvGtSd.js";import"./DTMQaITi.js";import"./DLCKK_lP.js";import"./D0Zd6DRx.js";import"./DCJFimIK.js";import"./DcXEb9Sl.js";import"./Dc7Unr3b.js";import"./Dzdl_FEh.js";import"./BDaSgtuY.js";import"./DM3q50Qf.js";import"./CLMHpQE0.js";import"./DW-3PSLe.js";import"./DSVo6R7L.js";import"./DKeuBCMA.js";import"./DfUnjI44.js";import"./Dxzbedgu.js";import"./BICMY8R7.js";import"./Dipz0mOK.js";import"./C3e4t58V.js";import"./DMf_iQbA.js";import"./2qUv-9sF.js";import"./Ay-duVFl.js";const ne=D(()=>R(()=>import("./ncg950AS.js"),__vite__mapDeps([0]),import.meta.url).then(t=>t.default||t)),oe=D(()=>R(()=>import("./D6SwgHMp.js"),__vite__mapDeps([1]),import.meta.url).then(t=>t.default||t)),se={key:0,class:"branding"},le={key:0,class:"logo"},ae={key:1,class:"title"},re={class:"cart-nav-wrapper"},ie={class:"nav-menu-mobile"},ce={class:"nav-menu"},me={key:0,class:"dropdown-menu"},ze=Y({__name:"NavMenu",props:{element:{type:Object,required:!0}},async setup(t){var N,I,x;let p,E;const s=t,m=X(),{$bus:V}=j(),z=`${s.element.id}-logo`,B=`${s.element.id}-heading`,y=e=>e==null?void 0:e.reduce((u,r)=>(r.childs.length&&u.push(...y(r.childs)),r.goTo===W.GO_TO_PRODUCT_COLLECTION&&r.goToCollection&&u.push(r.goToCollection),u),[]),w=y((x=(I=(N=s.element)==null?void 0:N.extra)==null?void 0:I.menuItems)==null?void 0:x.value);if(f(m.value.funnelSteps)&&w.length>0){const{data:e}=([p,E]=q(async()=>ee(`product-collection-${s.element.id}`,async()=>await Z(w))),p=await p,E(),p);e.value&&(m.value.productCollections=te(e.value??[],m.value.productCollections,"_id"))}const C=d(()=>J(s.element)),S=d(()=>{const{extra:e}=s.element;return e[g.INCLUDE_LOGO_IN_MENU].value}),L=d(()=>{const{extra:e}=s.element;return e[g.INCLUDE_HEADLINE_IN_MENU].value}),H=d(()=>{const{extra:e}=s.element;return e[g.MENU_LAYOUT].value}),F=d(()=>{const{extra:e}=s.element;return e[g.MENU_ITEMS].value});function G(){V.$emit("show-nav-menu-popup",s.element.id)}return(e,a)=>{var O,T,P,k;const u=ne,r=oe;return o(),l("div",{class:v([[n(H)],"nav-menu-wrapper"])},[n(S)||n(L)?(o(),l("div",se,[n(S)?(o(),l("div",le,[_(K,{id:z,class:v([n(C)]),element:t.element},null,8,["class","element"])])):c("",!0),n(L)?(o(),l("div",ae,[_(Q,{class:v([n(C)]),id:B,content:t.element.extra.text},null,8,["class","content"])])):c("",!0)])):c("",!0),h("div",re,[h("div",ie,[h("span",{onClick:a[0]||(a[0]=i=>G()),class:"menu-icon"})]),h("ul",ce,[(o(!0),l(b,null,M(n(F),i=>(o(),l("li",{key:i.id,class:v(["nav-menu-item",i.childs.length?"dropdown":""])},[_($,{item:i},null,8,["item"]),i.childs&&i.childs.length?(o(),l("ul",me,[(o(!0),l(b,null,M(i.childs,A=>(o(),l("li",{key:A.id,class:"dropdown-item"},[_($,{item:A},null,8,["item"])]))),128))])):c("",!0)],2))),128))]),(T=(O=t.element.extra)==null?void 0:O.showSearchbar)!=null&&T.value&&n(f)(n(m).funnelSteps)?(o(),U(u,{key:0,element:t.element},null,8,["element"])):c("",!0),n(f)(n(m).funnelSteps)&&(((k=(P=t.element.extra)==null?void 0:P.showCartIcon)==null?void 0:k.value)??!0)?(o(),U(r,{key:1,element:t.element},null,8,["element"])):c("",!0)])],2)}}});export{ze as default};
