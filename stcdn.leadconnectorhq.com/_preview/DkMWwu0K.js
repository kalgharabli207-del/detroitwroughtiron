import{d as Y,c as y,a as s,b as a,F as I,g as N,e as d,n as M,q as X,h as _,t as F,r as q,x,o as ee,N as ne,p as K,u as le,m as Z}from"./BJulYKC0.js";import{u as ie,a8 as te}from"./CFkpPN2T.js";import{i as oe}from"./LMdvGtSd.js";import"./BlkUynWJ.js";import"./DTMQaITi.js";const se={key:0,class:"testimonial-stars"},ae={class:"testimonial-content"},re={class:"testimonial-profile"},ue={class:"profile-info"},ce=["src","alt"],me={class:"profile-details"},ve={key:0,class:"profile-name"},pe={key:1},de={key:1,class:"profile-caption"},ke={key:2,class:"testimonial-date"},fe={key:0,class:"business-logo"},ge=["src","alt"],he=["src","alt"],Q=Y({__name:"TestimonialCard",props:{testimonial:{},element:{},fullContent:{type:Boolean}},emits:["social-media-click","business-click","read-more-click"],setup(b,{emit:S}){const c=b,r=S,k=e=>{var m,n,w;return((w=(n=(m=c.element)==null?void 0:m.styles)==null?void 0:n[e])==null?void 0:w.value)||""},u=y(()=>{var e,m,n;return((n=(m=(e=c.element)==null?void 0:e.extra)==null?void 0:m.testimonialCardStyle)==null?void 0:n.value)||{}}),g=(e,m)=>{var n;return((n=u.value)==null?void 0:n[e])??m},C=()=>{r("read-more-click",c.testimonial)},v=()=>{c.testimonial.socialMediaLink&&window.open(c.testimonial.socialMediaLink,"_blank"),r("social-media-click")},f=()=>{c.testimonial.businessLink&&window.open(c.testimonial.businessLink,"_blank"),r("business-click")};return(e,m)=>{var n,w,R,T,O,$,V,D,U,W,A,L,j,G,H,l,t,i,p,o,B,E,P,z;return s(),a("div",{class:"testimonial-grid-item",style:X({backgroundColor:k("cardBackgroundColor")})},[(T=(R=(w=(n=e.element)==null?void 0:n.extra)==null?void 0:w.testimonialSettings)==null?void 0:R.value)!=null&&T.showStarRating?(s(),a("div",se,[(s(),a(I,null,N(5,h=>d("span",{key:h,class:M(["star",h<=e.testimonial.starRating?"filled":"empty"]),style:X({color:h<=e.testimonial.starRating?k("ratingColor"):"#d1d5db",opacity:h<=e.testimonial.starRating?1:.5})}," â˜… ",6)),64))])):_("",!0),d("div",ae,[d("p",{style:X({color:k("contentColor"),fontSize:g("contentFontSize",{value:1,unit:"rem"}).value+(g("contentFontSize",{value:1,unit:"rem"}).unit||"rem"),fontFamily:g("contentFontFamily","var(--contentfont)"),fontStyle:g("contentFontStyle","italic")}),class:M(e.fullContent?"":"testimonial-content-text")},F(e.testimonial.content),7),!e.fullContent&&e.testimonial.content.length>0?(s(),a("button",{key:0,onClick:C,class:"read-more-button"}," Read more ")):_("",!0)]),d("div",re,[d("div",ue,[(D=(V=($=(O=e.element)==null?void 0:O.extra)==null?void 0:$.testimonialSettings)==null?void 0:V.value)!=null&&D.showProfilePic&&e.testimonial.profilePic?(s(),a("img",{key:0,class:"profile-pic",loading:"lazy",src:e.testimonial.profilePic,alt:e.testimonial.name},null,8,ce)):_("",!0),d("div",me,[(L=(A=(W=(U=e.element)==null?void 0:U.extra)==null?void 0:W.testimonialSettings)==null?void 0:A.value)!=null&&L.showName?(s(),a("div",ve,[e.testimonial.socialMediaLink?(s(),a("span",{key:0,class:"name-link",onClick:v},F(e.testimonial.name),1)):(s(),a("span",pe,F(e.testimonial.name),1))])):_("",!0),(l=(H=(G=(j=e.element)==null?void 0:j.extra)==null?void 0:G.testimonialSettings)==null?void 0:H.value)!=null&&l.showCaption?(s(),a("div",de,F(e.testimonial.caption),1)):_("",!0),(o=(p=(i=(t=e.element)==null?void 0:t.extra)==null?void 0:i.testimonialSettings)==null?void 0:p.value)!=null&&o.showDate?(s(),a("div",ke,F(e.testimonial.date),1)):_("",!0)])]),(z=(P=(E=(B=e.element)==null?void 0:B.extra)==null?void 0:E.testimonialSettings)==null?void 0:P.value)!=null&&z.showLogo&&e.testimonial.logo?(s(),a("div",fe,[e.testimonial.businessLink?(s(),a("img",{key:0,class:"logo-link",loading:"lazy",src:e.testimonial.logo,alt:`${e.testimonial.name} business logo`,onClick:f},null,8,ge)):(s(),a("img",{key:1,loading:"lazy",src:e.testimonial.logo,alt:`${e.testimonial.name} business logo`},null,8,he))])):_("",!0)])],4)}}}),ye={class:"carousel__content"},_e={class:"slide-testimonials testimonial-carousel-content"},Ce={key:0,class:"carousel__pagination-container"},we=["onClick"],Me=Y({__name:"TestimonialCarousel",props:{element:{}},emits:["social-media-click","business-click","read-more-click"],setup(b,{emit:S}){const c={ELEVATE:"elevate",GLOW:"glow"},r=b,k=S,u=q(0);let g=null;const C=ie(),v=y(()=>{var i,p;const l=(p=(i=r.element.extra)==null?void 0:i.testimonialLayout)==null?void 0:p.value,t=(l==null?void 0:l.columns)||3;return C.value.mobileDevice?1:t}),f=y(()=>{var l,t,i,p;return((p=(i=(t=(l=r==null?void 0:r.element)==null?void 0:l.extra)==null?void 0:t.testimonialList)==null?void 0:i.value)==null?void 0:p.map(o=>({id:o==null?void 0:o.id,profilePic:o==null?void 0:o.profilePic,name:o==null?void 0:o.name,socialMediaLink:o==null?void 0:o.socialMediaLink,caption:o==null?void 0:o.caption,date:o==null?void 0:o.date,logo:o==null?void 0:o.logo,businessLink:o==null?void 0:o.businessLink,starRating:(o==null?void 0:o.starRating)||5,content:o==null?void 0:o.content})))??[]}),e=y(()=>{const l=[],t=f.value;for(let i=0;i<t.length;i+=v.value)l.push(t.slice(i,i+v.value));return l}),m=y(()=>{var l,t,i;return((i=(t=(l=r.element.extra)==null?void 0:l.sliderAnimation)==null?void 0:t.value)==null?void 0:i.animationType)||"slide"}),n=y(()=>{var t,i,p;const l=(p=(i=(t=r.element.extra)==null?void 0:t.sliderArrow)==null?void 0:i.value)==null?void 0:p.animationEffect;return l===c.ELEVATE?"carousel__arrow-elevate":l===c.GLOW?"carousel__arrow-glow":""}),w=y(()=>{var l,t,i;return((i=(t=(l=r.element.extra)==null?void 0:l.sliderAnimation)==null?void 0:t.value)==null?void 0:i.autoAnimationEnable)===!0}),R=y(()=>{var t,i,p;const l=(p=(i=(t=r.element.extra)==null?void 0:t.sliderAnimation)==null?void 0:i.value)==null?void 0:p.interval;return(l&&l>0?l:3)*1e3}),T=y(()=>{var l,t,i;return((i=(t=(l=r.element.extra)==null?void 0:l.sliderAnimation)==null?void 0:t.value)==null?void 0:i.infiniteLoop)!==!1}),O=y(()=>m.value==="fade"?{transform:"translateX(0%)"}:{transform:`translateX(-${u.value*100}%)`}),$=()=>{T.value?u.value=(u.value+1)%e.value.length:(u.value===e.value.length-1&&L(),u.value<e.value.length-1&&(u.value+=1))},V=()=>{T.value?u.value=(u.value-1+e.value.length)%e.value.length:u.value>0&&(u.value-=1)},D=l=>{u.value=l},U=()=>{var l,t,i;(i=(t=(l=r.element.extra)==null?void 0:l.sliderAnimation)==null?void 0:t.value)!=null&&i.pauseOnHover&&L()},W=()=>{var l,t,i;(i=(t=(l=r.element.extra)==null?void 0:l.sliderAnimation)==null?void 0:t.value)!=null&&i.pauseOnHover&&A()},A=()=>{L(),w.value&&e.value.length>1&&(g=te($,R.value))},L=()=>{g&&(clearInterval(g),g=null)};x([w,R,T],()=>{A()},{immediate:!1});const j=()=>{k("social-media-click")},G=()=>{k("business-click")},H=l=>{k("read-more-click",l)};return ee(()=>{A()}),ne(()=>{L()}),(l,t)=>{var i,p,o,B,E,P;return s(),a("div",{class:M(["testimonial-carousel","testimonial-carousel-"+l.element.id])},[d("div",{class:"carousel-with-arrows",onMouseenter:U,onMouseleave:W},[d("div",ye,[d("div",{class:M(["carousel__slides",{"fade-mode":m.value==="fade"}]),style:X(O.value)},[(s(!0),a(I,null,N(e.value,(z,h)=>(s(),a("div",{key:h,class:M(["carousel__slide",{"fade-active":m.value==="fade"&&h===u.value,"fade-inactive":m.value==="fade"&&h!==u.value}])},[d("div",_e,[(s(!0),a(I,null,N(z,J=>(s(),a("div",{key:J.id,class:"testimonial-item"},[K(Q,{testimonial:J,element:l.element,onSocialMediaClick:j,onBusinessClick:G,onReadMoreClick:H},null,8,["testimonial","element"])]))),128))])],2))),128))],6)]),(o=(p=(i=l.element.extra)==null?void 0:i.sliderArrow)==null?void 0:p.value)!=null&&o.enable&&e.value.length>1?(s(),a("div",{key:0,class:M(["carousel__arrow",n.value])},[(s(),a("svg",{onClick:V,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},t[0]||(t[0]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 18l-6-6 6-6"},null,-1)]))),(s(),a("svg",{onClick:$,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},t[1]||(t[1]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 18l6-6-6-6"},null,-1)])))],2)):_("",!0)],32),(P=(E=(B=l.element.extra)==null?void 0:B.sliderPagination)==null?void 0:E.value)!=null&&P.enable&&e.value.length>1?(s(),a("div",Ce,[(s(!0),a(I,null,N(e.value,(z,h)=>(s(),a("div",{key:h,class:M(["carousel__pagination",[h===u.value?"carousel__pagination-active":"carousel__pagination-inactive"]]),onClick:J=>D(h)},null,10,we))),128))])):_("",!0)],2)}}}),be=["src"],Le=Y({__name:"TestimonialModal",props:{element:{},openTestimonialModal:{type:Boolean},selectedTestimonial:{},popup:{type:Boolean}},emits:["update:openTestimonialModal","update:selectedTestimonial"],setup(b,{emit:S}){const c=b,r=S,k=()=>{r("update:openTestimonialModal",!1),r("update:selectedTestimonial",null)},u=q(null),g=C=>{u.value&&!u.value.contains(C.target)&&k()};return(C,v)=>c.openTestimonialModal&&c.selectedTestimonial?(s(),a("div",{key:0,class:M(["testimonial-modal-overlay",{"testimonial-modal-popup":c.popup}]),onMousedown:g},[d("button",{class:"testimonial-modal-close",onClick:k,"aria-label":"Close"},[d("img",{src:le(oe),class:"testimonial-modal-close-icon",alt:"Close"},null,8,be)]),d("div",{class:"testimonial-modal-content",ref_key:"modalContentRef",ref:u},[K(Q,{testimonial:c.selectedTestimonial,element:c.element,class:"testimonial-modal-card",fullContent:!0},null,8,["testimonial","element"])],512)],34)):_("",!0)}}),Se={class:"testimonial-section"},Te={class:"testimonial-container"},Ae={key:1,class:"testimonial-grid"},ze=Y({__name:"Testimonial",props:{element:{},popup:{type:Boolean}},emits:["update:modelValue"],setup(b,{emit:S}){const c=b,r=q(!1),k=q(null),u=y(()=>{var v,f,e,m;return((m=(e=(f=(v=c==null?void 0:c.element)==null?void 0:v.extra)==null?void 0:f.testimonialList)==null?void 0:e.value)==null?void 0:m.map(n=>({id:n==null?void 0:n.id,profilePic:n==null?void 0:n.profilePic,name:n==null?void 0:n.name,socialMediaLink:n==null?void 0:n.socialMediaLink,caption:n==null?void 0:n.caption,date:n==null?void 0:n.date,logo:n==null?void 0:n.logo,businessLink:n==null?void 0:n.businessLink,starRating:(n==null?void 0:n.starRating)||5,content:n==null?void 0:n.content})))??[]}),g=y(()=>{var v,f,e,m;return((m=(e=(f=(v=c.element)==null?void 0:v.extra)==null?void 0:f.testimonialLayout)==null?void 0:e.value)==null?void 0:m.layout)==="carousel"}),C=v=>{k.value=v,r.value=!0};return(v,f)=>(s(),a("div",Se,[d("div",Te,[g.value?(s(),Z(Me,{key:0,element:v.element,onReadMoreClick:C},null,8,["element"])):(s(),a("div",Ae,[(s(!0),a(I,null,N(u.value,(e,m)=>(s(),Z(Q,{key:e.id,testimonial:e,element:v.element,onReadMoreClick:C},null,8,["testimonial","element"]))),128))]))]),K(Le,{element:v.element,"open-testimonial-modal":r.value,"selected-testimonial":k.value,popup:v.popup,"onUpdate:openTestimonialModal":f[0]||(f[0]=e=>r.value=e),"onUpdate:selectedTestimonial":f[1]||(f[1]=e=>k.value=e)},null,8,["element","open-testimonial-modal","selected-testimonial","popup"])]))}});export{ze as default};
